#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-replace () {
    diff <(${ANGELIX_RUN:-angelix-eval} ./replace "$1" "$2"  "$3") <(angelix-eval $SCRIPT_DIR/../golden/replace "$1" "$2" "$3")
}

case "$1" in
    1)
      test-replace  "@{" "g K" "?PsXN<s\\o:bgvYW_;"
      ;;
    2)
      test-replace  "Y" "" "s(b*>@"
      ;;
    3)
      test-replace  ":1" "Ff9H" "E\\I%nfqc=BmExQ6r"
      ;;
    4)
      test-replace  "L%" "" "{V#!UmDMh.T\"Bdl"
      ;;
    5)
      test-replace  "p\\a" "!(" "luDA\"4"
      ;;
    6)
      test-replace  "" "#T\$]" "ojpG"
      ;;
    7)
      test-replace  "MH" "WOt7" "0F<Jf0k\`&NOR-Xc)~e"
      ;;
    8)
      test-replace  "" "Ds1@" "I\$SGP/od |Z?"
      ;;
    9)
      test-replace  "l" "iS" "9\$\`ui"
      ;;
    10)
      test-replace  "<)" "4F/v" "k^k.d9SHA\\yR\`OU}i94"
      ;;
    11)
      test-replace  ">YMM" "" "/DTxlWCm-"
      ;;
    12)
      test-replace  "" "}b<" "\`OzKqK)"
      ;;
    13)
      test-replace  "a+" "4>IP" "fL-aE\\TLZ qXirQ^2"
      ;;
    14)
      test-replace  "!n" "C" "[El//{-st!vO(KT\`"
      ;;
    15)
      test-replace  ">L" "[Qs" "bq+aA[eN%u/?,@m4Y"
      ;;
    16)
      test-replace  "WV&" "1<p&" "|c9\${jFrD"
      ;;
    17)
      test-replace  "\`s\`" "hn{C" "7a\`nS/H_d"
      ;;
    18)
      test-replace  "#" "b\\^(" "_QY00m|dTj7#g"
      ;;
    19)
      test-replace  "qJ9[" "" "0t@}yJm\"&?"
      ;;
    20)
      test-replace  "JI" "7" "{6pli"
      ;;
    21)
      test-replace  "" "" "H=!6;+)5G"
      ;;
    22)
      test-replace  "p4LW" "YY" ">{"
      ;;
    23)
      test-replace  "[4BX" "ee[" " 2^B_;"
      ;;
esac
