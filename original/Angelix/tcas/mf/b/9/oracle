#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "4336 1 1 -10000 -9104 -9998 0 -17 -17 0 2 0"
      ;;
    2)
      test-tcas  "4336 1 1 -10000 -9104 -9998 1 -17 -17 0 2 0"
      ;;
    3)
      test-tcas  "4336 1 1 -10000 -9104 -9998 3 -17 -17 0 2 0"
      ;;
    4)
      test-tcas  "4336 1 1 -10000 -9104 -9998 2 -17 -17 0 2 0"
      ;;
    5)
      test-tcas  "3296 1 1 2288 80 2296 0 393 493 0 2 1"
      ;;
    6)
      test-tcas  "3184 1 1 2288 -10000 2289 0 -9992 -4 0 2 0"
      ;;
    7)
      test-tcas  "1496 1 1 2288 81 2287 0 400 500 0 2 1"
      ;;
    8)
      test-tcas  "1384 1 1 2288 -399 2289 0 -3 -4 0 2 0"
      ;;
    9)
      test-tcas  "6320 1 1 -10000 -6320 -9992 1 497 597 0 2 1"
      ;;
    10)
      test-tcas  "6384 1 1 -6384 -1968 -6032 1 -8196 -3 0 2 0"
      ;;
    11)
      test-tcas  "1520 1 1 -10000 -319 -10001 1 500 600 0 2 1"
      ;;
    12)
      test-tcas  "1584 1 1 -6384 -167 -6383 1 -2 -3 0 2 0"
      ;;
    13)
      test-tcas  "8416 1 1 4048 16 6176 3 640 740 0 2 1"
      ;;
    14)
      test-tcas  "601 1 1 752 -10000 2288 3 2168 -4 0 2 0"
      ;;
    15)
      test-tcas  "1216 1 1 4048 17 4047 3 740 840 0 2 1"
      ;;
    16)
      test-tcas  "601 1 1 752 -10000 2288 3 -4 2168 0 2 0"
      ;;
    17)
      test-tcas  "3920 1 1 -1424 -7600 2288 2 540 640 0 2 1"
      ;;
    18)
      test-tcas  "2137 1 1 -10000 336 -9999 2 2288 2404 0 2 1"
      ;;
    19)
      test-tcas  "1520 1 1 -1424 -399 -1425 2 640 740 0 2 1"
      ;;
    20)
      test-tcas  "1537 1 1 -10000 337 -10001 2 2288 2388 0 2 1"
      ;;
esac
