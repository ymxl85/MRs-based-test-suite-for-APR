#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "6384 1 1 -10000 176 -9999 2 10000 641 0 2 0"
      ;;
    2)
      test-tcas  "792 1 1 -1824 -7344 -10000 2 656 756 0 2 1"
      ;;
    3)
      test-tcas  "6384 1 1 -10000 176 -9999 3 10100 741 0 2 0"
      ;;
    4)
      test-tcas  "792 1 1 -1824 -7344 -10000 3 756 856 0 2 1"
      ;;
    5)
      test-tcas  "1040 1 1 -9616 16 -8432 -4 4272 640 0 2 0"
      ;;
    6)
      test-tcas  "5232 1 1 -6128 -10000 -2288 2 7860 -84 0 2 1"
      ;;
    7)
      test-tcas  "2288 1 1 6320 -3856 6368 2 6168 2232 0 2 1"
      ;;
    8)
      test-tcas  "9568 1 1 2160 240 2288 1 -200 -100 0 2 1"
      ;;
    9)
      test-tcas  "5232 1 1 -6128 -10000 -2288 3 7960 16 0 2 1"
      ;;
    10)
      test-tcas  "2288 1 1 6320 -3856 6368 3 6268 2332 0 2 1"
      ;;
    11)
      test-tcas  "9568 1 1 2160 240 2288 2 -60 40 0 2 1"
      ;;
    12)
      test-tcas  "6264 1 1 4336 -9712 -7440 -4 644 6104 0 2 1"
      ;;
    13)
      test-tcas  "6328 1 1 -9999 -10000 -10000 2 -8292 6364 0 2 0"
      ;;
    14)
      test-tcas  "3112 1 1 2288 16 -1872 2 2288 2400 0 2 1"
      ;;
    15)
      test-tcas  "6264 1 1 -9999 -10000 -10000 1 -204 -100 0 2 1"
      ;;
    16)
      test-tcas  "6328 1 1 -9999 -10000 -10000 3 -8192 6464 0 2 0"
      ;;
    17)
      test-tcas  "3112 1 1 2288 16 -1872 3 2388 2500 0 2 1"
      ;;
    18)
      test-tcas  "6264 1 1 -9999 -10000 -10000 2 -64 40 0 2 1"
      ;;
esac
