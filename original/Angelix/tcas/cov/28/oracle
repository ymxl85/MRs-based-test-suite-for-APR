#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "0 0 0 0 0 0 0 0 0 0 1 0"
      ;;
    2)
      test-tcas  "2272 1 0 6096 16 4336 0 -10000 6256 0 1 0"
      ;;
    3)
      test-tcas  "2800 1 1 -912 96 -2032 0 -178 -1872 0 2 0"
      ;;
    4)
      test-tcas  "6256 1 1 -2032 240 -2016 0 -7808 6256 0 2 1"
      ;;
    5)
      test-tcas  "2288 1 1 3248 16 6352 2 -4 -1808 0 2 1"
      ;;
    6)
      test-tcas  "3160 1 1 6256 240 2224 0 6256 6352 0 2 1"
      ;;
    7)
      test-tcas  "6200 1 1 -15 80 -10000 3 -8000 -1808 0 2 1"
      ;;
    8)
      test-tcas  "6200 1 1 -15 80 -10000 0 -8000 -1808 0 2 1"
      ;;
    9)
      test-tcas  "2744 1 1 6288 368 -6960 2 2592 3056 0 2 0"
      ;;
    10)
      test-tcas  "6320 1 1 4176 80 5872 2 6368 752 0 2 1"
      ;;
    11)
      test-tcas  "6200 1 1 -15 80 -10000 2 -8000 -1808 0 2 1"
      ;;
    12)
      test-tcas  "6168 1 1 3184 16 2064 3 6256 6352 0 2 1"
      ;;
    13)
      test-tcas  "2288 1 1 3248 16 6352 0 -4 -1808 0 2 1"
      ;;
    14)
      test-tcas  "6200 1 1 -15 80 -10000 1 -8000 -1808 0 2 1"
      ;;
    15)
      test-tcas  "6328 1 1 -9998 112 -10000 1 6256 6352 0 2 1"
      ;;
    16)
      test-tcas  "2288 1 1 3248 16 6352 1 -4 -1808 0 2 1"
      ;;
    17)
      test-tcas  "6256 1 1 2224 16 4336 0 6368 784 0 2 1"
      ;;
    18)
      test-tcas  "6256 1 1 -5904 16 -1807 1 3084 800 0 2 1"
      ;;
    19)
      test-tcas  "2288 1 1 3248 16 6352 3 -4 -1808 0 2 1"
      ;;
    20)
      test-tcas  "2288 1 1 -1936 112 -1904 3 3997 4096 0 2 0"
      ;;
esac
