#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "455 0 912 195 5 5490 2 962 79 1 0 1"
      ;;
    2)
      test-tcas  "564 0 776 403 555 2229 0 461 129 1 1 0"
      ;;
    3)
      test-tcas  "714 0 509 583 242 2171 0 280 643 0 0 1"
      ;;
    4)
      test-tcas  "550 1 98 819 244 7125 1 252 992 0 1 0"
      ;;
    5)
      test-tcas  "921 1 521 930 498 5621 2 480 480 0 0 0"
      ;;
    6)
      test-tcas  "947 0 551 955 638 8979 2 569 367 1 0 0"
      ;;
    7)
      test-tcas  "725 0 389 464 617 2795 0 60 465 0 1 1"
      ;;
    8)
      test-tcas  "36 1 855 883 937 531 2 135 807 1 0 1"
      ;;
    9)
      test-tcas  "79 0 829 380 13 6676 0 720 357 0 0 0"
      ;;
    10)
      test-tcas  "626 0 868 218 452 2363 2 102 924 1 1 1"
      ;;
    11)
      test-tcas  "87 1 327 765 68 6459 0 125 350 0 1 0"
      ;;
    12)
      test-tcas  "825 0 989 663 132 9972 1 991 686 0 0 1"
      ;;
    13)
      test-tcas  "537 1 29 870 851 1103 2 579 390 0 1 1"
      ;;
    14)
      test-tcas  "838 1 274 523 186 2469 2 67 691 0 1 0"
      ;;
    15)
      test-tcas  "113 1 967 767 24 907 1 498 999 0 1 0"
      ;;
    16)
      test-tcas  "403 0 815 811 307 3812 0 706 793 0 0 0"
      ;;
    17)
      test-tcas  "530 0 796 643 55 4248 3 853 608 0 0 0"
      ;;
    18)
      test-tcas  "748 1 195 875 222 9970 3 504 701 0 0 0"
      ;;
    19)
      test-tcas  "96 1 484 291 119 9152 3 960 642 0 0 0"
      ;;
    20)
      test-tcas  "187 1 83 682 586 7922 3 174 426 0 0 1"
      ;;
esac
