#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "583 0 139 661 345 422 2 272 323 0 1 0"
      ;;
    2)
      test-tcas  "556 0 301 673 869 1691 2 648 226 1 0 1"
      ;;
    3)
      test-tcas  "944 1 639 969 422 5935 0 504 543 0 0 1"
      ;;
    4)
      test-tcas  "970 1 773 981 150 8017 0 569 951 1 1 1"
      ;;
    5)
      test-tcas  "505 0 520 934 16 3728 0 227 5 0 0 0"
      ;;
    6)
      test-tcas  "695 1 640 368 39 6040 2 157 157 0 1 0"
      ;;
    7)
      test-tcas  "840 0 539 872 98 5898 0 767 654 1 1 0"
      ;;
    8)
      test-tcas  "714 1 347 125 302 2281 3 924 935 1 1 0"
      ;;
    9)
      test-tcas  "455 0 371 823 373 6255 3 244 176 1 1 0"
      ;;
    10)
      test-tcas  "668 1 580 408 555 7190 1 805 179 1 1 0"
      ;;
    11)
      test-tcas  "504 0 542 671 208 6202 1 628 18 0 1 0"
      ;;
    12)
      test-tcas  "197 1 82 338 483 2210 0 538 593 1 1 0"
      ;;
    13)
      test-tcas  "838 1 889 595 323 9732 2 174 652 0 1 0"
      ;;
    14)
      test-tcas  "65 1 307 219 455 4781 2 906 763 0 1 1"
      ;;
    15)
      test-tcas  "857 1 729 512 71 5807 2 237 304 0 0 1"
      ;;
    16)
      test-tcas  "673 0 195 665 510 767 3 946 664 0 0 0"
      ;;
    17)
      test-tcas  "900 1 134 371 448 8835 1 741 626 0 1 0"
      ;;
    18)
      test-tcas  "817 0 621 612 961 6303 0 552 187 1 1 1"
      ;;
    19)
      test-tcas  "153 1 992 461 149 509 1 806 55 1 0 1"
      ;;
    20)
      test-tcas  "806 0 303 503 77 3556 0 65 560 0 0 1"
      ;;
esac
