--- a/tcas.c
+++ b/tcas.c
@@ -438,7 +438,7 @@
         }
       } else {
 #line 130
-        tmp___6 = 0;
+        tmp___6 = (-1 + need_upward_RA);
       }
 #line 130
       need_downward_RA = tmp___6;
