--- a/tcas.c
+++ b/tcas.c
@@ -387,7 +387,7 @@
 #line 127
     if (tcas_equipped) {
 #line 127
-      if (intent_not_known) {
+      if ((tcas_equipped <= Climb_Inhibit)) {
 #line 127
         goto _L___0;
       } else {
