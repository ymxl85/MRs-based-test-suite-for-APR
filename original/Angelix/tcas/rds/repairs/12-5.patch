--- a/tcas.c
+++ b/tcas.c
@@ -179,7 +179,7 @@
           tmp___3 = 0;
         } else {
 #line 78
-          tmp___3 = 1;
+          tmp___3 = ((Own_Tracked_Alt_Rate < Down_Separation) ? (2 * Other_Capability) : 0);
         }
       } else {
 #line 78
