--- a/tcas.c
+++ b/tcas.c
@@ -390,7 +390,7 @@
 #line 127
     if (tcas_equipped) {
 #line 127
-      if (intent_not_known) {
+      if ((Alt_Layer_Value <= Climb_Inhibit)) {
 #line 127
         goto _L___0;
       } else {
