#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "985 0 617 716 231 4279 1 352 957 0 0 1"
      ;;
    2)
      test-tcas  "140 1 511 59 98 8249 2 809 616 0 1 1"
      ;;
    3)
      test-tcas  "100 0 882 919 189 1416 3 931 1 0 0 1"
      ;;
    4)
      test-tcas  "224 0 870 114 641 9413 1 674 221 0 1 0"
      ;;
    5)
      test-tcas  "856 1 889 450 972 8818 1 612 689 1 0 0"
      ;;
    6)
      test-tcas  "970 1 686 197 169 7104 3 714 743 0 1 1"
      ;;
    7)
      test-tcas  "424 1 903 820 20 1255 1 272 185 1 1 0"
      ;;
    8)
      test-tcas  "876 1 235 592 944 9151 0 120 295 0 0 0"
      ;;
    9)
      test-tcas  "311 1 673 270 775 7142 3 845 367 1 0 1"
      ;;
    10)
      test-tcas  "923 1 154 658 22 2450 0 394 159 1 1 0"
      ;;
    11)
      test-tcas  "687 1 17 582 984 260 3 191 783 1 1 0"
      ;;
    12)
      test-tcas  "429 0 174 654 877 2431 3 761 633 0 1 1"
      ;;
    13)
      test-tcas  "473 1 690 90 677 7861 0 811 756 1 0 1"
      ;;
    14)
      test-tcas  "108 1 641 879 809 3502 3 720 807 1 0 0"
      ;;
    15)
      test-tcas  "102 0 610 682 104 9965 3 571 277 0 1 1"
      ;;
    16)
      test-tcas  "305 0 30 51 523 6529 0 45 45 1 0 1"
      ;;
    17)
      test-tcas  "68 1 769 843 120 7158 2 851 582 1 1 1"
      ;;
    18)
      test-tcas  "715 0 892 84 516 1898 2 757 183 1 1 1"
      ;;
esac
