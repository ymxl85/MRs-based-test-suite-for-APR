#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "906 0 341 371 76 8145 3 31 46 1 1 0"
      ;;
    2)
      test-tcas  "164 1 707 243 795 2716 0 9 43 1 0 0"
      ;;
    3)
      test-tcas  "480 1 638 381 449 4232 2 924 586 1 1 1"
      ;;
    4)
      test-tcas  "166 0 211 668 747 6261 0 877 419 0 0 1"
      ;;
    5)
      test-tcas  "586 1 171 784 881 1545 0 879 267 0 0 1"
      ;;
    6)
      test-tcas  "798 0 484 505 872 2621 1 763 953 0 1 0"
      ;;
    7)
      test-tcas  "960 1 696 866 476 7879 0 920 932 0 1 1"
      ;;
    8)
      test-tcas  "729 1 240 250 51 1201 3 883 746 0 1 1"
      ;;
    9)
      test-tcas  "250 1 484 976 988 5926 1 979 70 1 1 1"
      ;;
    10)
      test-tcas  "378 1 214 545 354 1207 2 462 867 0 1 0"
      ;;
    11)
      test-tcas  "565 1 373 158 23 843 2 697 818 1 0 0"
      ;;
    12)
      test-tcas  "366 1 192 607 24 1321 3 71 453 0 0 0"
      ;;
    13)
      test-tcas  "723 0 414 57 942 7243 1 425 499 0 1 1"
      ;;
    14)
      test-tcas  "126 1 73 668 73 8298 3 828 677 1 1 0"
      ;;
    15)
      test-tcas  "441 0 296 351 586 2763 0 574 674 1 1 0"
      ;;
    16)
      test-tcas  "537 0 769 301 239 7911 2 248 202 1 0 0"
      ;;
    17)
      test-tcas  "958 1 990 272 204 7851 2 714 967 1 1 1"
      ;;
    18)
      test-tcas  "725 0 9 812 280 4129 2 758 0 1 1 0"
      ;;
esac
