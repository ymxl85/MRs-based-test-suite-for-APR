#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "545 1 645 269 716 6379 1 673 695 0 1 1"
      ;;
    2)
      test-tcas  "780 0 892 340 792 9661 2 448 303 1 0 1"
      ;;
    3)
      test-tcas  "787 0 234 185 703 1003 1 641 331 0 0 1"
      ;;
    4)
      test-tcas  "251 1 955 893 715 4780 0 145 810 0 0 1"
      ;;
    5)
      test-tcas  "222 0 644 316 637 7971 0 238 269 0 1 1"
      ;;
    6)
      test-tcas  "796 1 825 581 28 4746 3 707 953 1 0 1"
      ;;
    7)
      test-tcas  "418 1 176 509 608 2049 1 189 636 1 1 1"
      ;;
    8)
      test-tcas  "30 1 369 446 634 3358 1 365 441 0 1 0"
      ;;
    9)
      test-tcas  "206 0 540 360 229 9922 2 968 590 1 0 0"
      ;;
    10)
      test-tcas  "235 0 692 463 752 6834 1 38 379 1 0 1"
      ;;
    11)
      test-tcas  "750 1 17 137 185 5285 2 372 853 1 0 1"
      ;;
    12)
      test-tcas  "971 1 92 522 320 2287 3 778 748 0 1 1"
      ;;
    13)
      test-tcas  "988 1 282 850 109 5022 0 441 98 1 0 1"
      ;;
    14)
      test-tcas  "652 0 350 370 4 8755 1 554 708 0 1 0"
      ;;
    15)
      test-tcas  "683 1 309 624 419 5042 0 268 208 1 1 0"
      ;;
    16)
      test-tcas  "453 0 935 776 580 595 3 32 879 1 1 1"
      ;;
    17)
      test-tcas  "599 1 75 801 5 6814 1 486 670 1 1 0"
      ;;
    18)
      test-tcas  "196 0 942 480 712 5552 3 282 970 1 0 0"
      ;;
esac
