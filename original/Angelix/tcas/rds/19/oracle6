#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "904 0 249 477 148 8769 3 447 663 1 1 0"
      ;;
    2)
      test-tcas  "520 1 523 271 17 2916 1 847 226 1 0 1"
      ;;
    3)
      test-tcas  "705 0 867 364 180 9545 0 109 770 0 1 0"
      ;;
    4)
      test-tcas  "888 1 625 4 300 1809 1 128 960 0 0 0"
      ;;
    5)
      test-tcas  "128 1 687 612 977 6356 2 236 365 0 1 1"
      ;;
    6)
      test-tcas  "700 1 625 601 847 3636 1 788 850 0 1 0"
      ;;
    7)
      test-tcas  "848 1 322 526 905 1686 1 13 664 0 0 0"
      ;;
    8)
      test-tcas  "670 1 769 637 898 6400 2 21 567 1 0 0"
      ;;
    9)
      test-tcas  "563 1 885 834 881 6963 1 272 340 0 1 0"
      ;;
    10)
      test-tcas  "430 0 280 532 591 1819 2 908 381 1 0 1"
      ;;
    11)
      test-tcas  "974 1 768 98 190 8100 3 977 758 0 0 1"
      ;;
    12)
      test-tcas  "880 1 173 193 188 5974 1 817 140 0 1 1"
      ;;
    13)
      test-tcas  "491 0 537 687 957 8855 1 724 384 0 1 1"
      ;;
    14)
      test-tcas  "760 0 296 699 160 782 1 449 302 0 1 0"
      ;;
    15)
      test-tcas  "726 1 208 816 739 3655 3 81 167 1 1 0"
      ;;
    16)
      test-tcas  "652 0 975 623 701 9235 0 516 950 0 0 0"
      ;;
    17)
      test-tcas  "109 1 421 369 919 4099 1 903 998 1 0 0"
      ;;
    18)
      test-tcas  "853 0 904 852 494 9822 0 270 9 1 0 0"
      ;;
esac
