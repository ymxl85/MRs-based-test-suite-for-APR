#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "175 0 25 313 510 3876 0 375 931 1 1 1"
      ;;
    2)
      test-tcas  "47 0 326 120 935 1172 3 347 821 0 1 0"
      ;;
    3)
      test-tcas  "819 1 443 998 563 8047 2 616 105 1 1 0"
      ;;
    4)
      test-tcas  "374 1 238 759 77 1942 3 805 934 0 1 0"
      ;;
    5)
      test-tcas  "756 0 724 562 964 3644 2 877 828 0 0 1"
      ;;
    6)
      test-tcas  "866 1 598 556 554 1221 3 991 750 0 1 1"
      ;;
    7)
      test-tcas  "10 0 904 967 270 8837 0 963 207 0 1 1"
      ;;
    8)
      test-tcas  "979 0 184 275 905 2122 0 188 128 1 1 1"
      ;;
    9)
      test-tcas  "202 1 919 28 114 6175 1 80 197 0 1 0"
      ;;
    10)
      test-tcas  "12 1 711 631 313 103 0 122 877 1 1 1"
      ;;
    11)
      test-tcas  "71 0 344 38 772 3236 1 535 410 0 0 1"
      ;;
    12)
      test-tcas  "698 1 622 740 845 2902 0 276 878 0 1 0"
      ;;
    13)
      test-tcas  "43 0 819 735 80 1720 2 691 634 0 0 0"
      ;;
    14)
      test-tcas  "925 1 498 317 313 3993 2 542 367 0 0 0"
      ;;
    15)
      test-tcas  "558 1 571 487 792 5765 3 416 532 0 1 1"
      ;;
    16)
      test-tcas  "425 0 614 642 974 1556 2 608 976 0 1 0"
      ;;
    17)
      test-tcas  "163 1 707 848 739 2695 3 563 251 1 1 1"
      ;;
    18)
      test-tcas  "565 1 446 541 549 7450 1 712 410 0 0 0"
      ;;
esac
