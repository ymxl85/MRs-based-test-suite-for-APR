#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "240 1 856 836 757 2677 1 946 8 0 0 0"
      ;;
    2)
      test-tcas  "368 1 603 648 180 3493 1 30 15 0 1 0"
      ;;
    3)
      test-tcas  "552 1 390 626 125 1107 1 18 978 0 0 1"
      ;;
    4)
      test-tcas  "405 0 914 970 495 2309 3 37 918 1 0 0"
      ;;
    5)
      test-tcas  "289 1 238 957 917 3904 2 554 413 0 1 0"
      ;;
    6)
      test-tcas  "483 1 901 549 418 8892 0 589 254 0 1 1"
      ;;
    7)
      test-tcas  "304 0 223 34 768 2923 0 164 457 0 0 0"
      ;;
    8)
      test-tcas  "213 0 409 222 477 214 1 992 623 1 0 1"
      ;;
    9)
      test-tcas  "55 1 94 187 801 1469 1 894 321 0 0 1"
      ;;
    10)
      test-tcas  "493 1 452 75 309 5639 0 1 626 0 1 1"
      ;;
    11)
      test-tcas  "455 1 759 136 613 2630 0 463 294 1 1 0"
      ;;
    12)
      test-tcas  "31 0 415 864 754 5229 3 148 206 1 1 0"
      ;;
    13)
      test-tcas  "717 1 921 957 478 5640 3 661 756 1 0 1"
      ;;
    14)
      test-tcas  "192 0 106 701 198 5074 3 971 698 1 0 1"
      ;;
    15)
      test-tcas  "943 1 60 433 891 3861 1 954 680 1 1 0"
      ;;
    16)
      test-tcas  "84 1 729 791 413 4425 2 320 238 0 0 0"
      ;;
    17)
      test-tcas  "475 1 975 698 845 409 0 593 414 0 1 0"
      ;;
    18)
      test-tcas  "995 1 97 280 431 1959 2 154 408 0 0 1"
      ;;
esac
