#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "245 0 409 49 914 5009 1 143 61 1 0 1"
      ;;
    2)
      test-tcas  "798 1 875 451 364 204 3 708 789 0 1 0"
      ;;
    3)
      test-tcas  "151 0 401 752 534 5674 2 440 632 0 0 0"
      ;;
    4)
      test-tcas  "292 0 359 77 229 8950 2 354 532 0 0 0"
      ;;
    5)
      test-tcas  "579 0 190 728 437 1407 0 641 886 1 0 0"
      ;;
    6)
      test-tcas  "730 1 796 595 156 5336 2 69 532 0 1 0"
      ;;
    7)
      test-tcas  "158 0 802 252 190 3530 2 385 162 0 1 0"
      ;;
    8)
      test-tcas  "256 0 459 989 778 9973 3 328 71 0 1 1"
      ;;
    9)
      test-tcas  "455 1 901 349 642 8391 3 435 471 0 0 0"
      ;;
    10)
      test-tcas  "751 0 377 873 453 6961 3 241 481 1 1 0"
      ;;
    11)
      test-tcas  "782 0 219 738 621 2504 1 756 410 0 0 0"
      ;;
    12)
      test-tcas  "619 1 424 822 937 5941 0 186 34 1 1 0"
      ;;
    13)
      test-tcas  "990 1 0 370 683 2640 1 857 241 0 0 1"
      ;;
    14)
      test-tcas  "913 1 601 979 614 6662 0 56 702 1 1 0"
      ;;
    15)
      test-tcas  "509 1 378 975 520 6608 1 175 101 0 0 0"
      ;;
    16)
      test-tcas  "146 0 558 443 37 3032 2 22 886 1 1 1"
      ;;
    17)
      test-tcas  "92 0 866 241 874 2962 1 487 603 0 0 0"
      ;;
esac
