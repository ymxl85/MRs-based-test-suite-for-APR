#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "565 1 259 722 4 3687 2 734 126 1 1 0"
      ;;
    2)
      test-tcas  "20 0 535 648 184 5120 1 594 636 1 1 1"
      ;;
    3)
      test-tcas  "762 1 520 431 452 2324 3 761 691 0 0 0"
      ;;
    4)
      test-tcas  "670 1 821 577 636 4062 3 337 182 0 0 0"
      ;;
    5)
      test-tcas  "383 0 430 876 224 3738 2 222 52 0 0 0"
      ;;
    6)
      test-tcas  "366 1 905 519 126 5089 3 66 884 0 0 0"
      ;;
    7)
      test-tcas  "488 1 8 982 798 9386 1 373 842 1 1 0"
      ;;
    8)
      test-tcas  "107 0 318 851 208 7579 0 496 10 1 1 1"
      ;;
    9)
      test-tcas  "379 1 114 399 143 6021 1 874 509 1 0 1"
      ;;
    10)
      test-tcas  "127 1 952 459 253 5627 2 675 950 1 0 0"
      ;;
    11)
      test-tcas  "90 1 814 956 975 1409 1 819 776 0 0 0"
      ;;
    12)
      test-tcas  "615 1 559 371 55 2408 0 320 942 1 0 1"
      ;;
    13)
      test-tcas  "59 0 517 429 787 1030 2 925 46 0 1 1"
      ;;
    14)
      test-tcas  "96 0 598 389 393 5721 1 165 599 1 1 0"
      ;;
    15)
      test-tcas  "999 1 122 540 52 1797 2 145 512 0 0 1"
      ;;
    16)
      test-tcas  "609 1 771 751 36 2032 1 742 99 0 0 0"
      ;;
    17)
      test-tcas  "233 0 585 361 237 1376 3 276 979 1 1 1"
      ;;
esac
