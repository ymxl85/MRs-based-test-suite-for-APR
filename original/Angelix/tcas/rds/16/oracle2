#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "912 1 416 558 863 7312 0 893 70 1 1 0"
      ;;
    2)
      test-tcas  "492 1 303 602 707 8171 0 47 900 1 0 1"
      ;;
    3)
      test-tcas  "614 0 678 427 577 8293 0 44 356 1 0 0"
      ;;
    4)
      test-tcas  "262 0 174 63 954 2287 2 656 426 1 1 1"
      ;;
    5)
      test-tcas  "619 0 495 102 743 7423 0 589 466 0 0 0"
      ;;
    6)
      test-tcas  "580 0 245 459 352 9603 3 394 792 0 0 0"
      ;;
    7)
      test-tcas  "258 1 4 790 354 6372 0 222 875 1 1 0"
      ;;
    8)
      test-tcas  "623 1 571 534 294 3169 0 376 256 0 0 1"
      ;;
    9)
      test-tcas  "977 1 859 531 74 7393 0 602 400 0 0 0"
      ;;
    10)
      test-tcas  "411 0 874 185 46 9170 1 128 724 1 1 1"
      ;;
    11)
      test-tcas  "645 0 518 289 500 7927 3 631 828 0 1 1"
      ;;
    12)
      test-tcas  "763 1 529 835 603 109 3 561 685 1 0 1"
      ;;
    13)
      test-tcas  "315 1 898 488 118 5433 1 611 995 1 0 0"
      ;;
    14)
      test-tcas  "54 0 375 782 264 7184 3 572 326 0 0 0"
      ;;
    15)
      test-tcas  "204 1 353 630 58 6016 0 331 842 1 1 0"
      ;;
    16)
      test-tcas  "671 0 412 327 179 6671 2 440 463 0 0 1"
      ;;
esac
