#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "787 1 181 814 662 8950 2 336 234 1 1 1"
      ;;
    2)
      test-tcas  "717 1 116 803 724 1341 3 735 563 1 0 0"
      ;;
    3)
      test-tcas  "503 0 646 391 143 4496 3 350 491 1 0 0"
      ;;
    4)
      test-tcas  "660 1 403 784 146 509 3 848 507 1 1 1"
      ;;
    5)
      test-tcas  "865 1 501 576 84 3112 2 573 662 1 1 0"
      ;;
    6)
      test-tcas  "328 1 717 497 98 9120 1 146 88 0 0 1"
      ;;
    7)
      test-tcas  "667 1 853 806 656 2313 0 515 131 1 1 0"
      ;;
    8)
      test-tcas  "74 0 591 658 514 7571 2 249 65 1 0 0"
      ;;
    9)
      test-tcas  "734 0 570 688 672 3458 3 323 95 1 1 0"
      ;;
    10)
      test-tcas  "963 1 683 566 103 2785 0 633 400 1 0 0"
      ;;
    11)
      test-tcas  "345 1 701 327 713 2987 3 140 387 0 0 1"
      ;;
    12)
      test-tcas  "382 0 287 997 927 1325 3 692 74 1 1 1"
      ;;
    13)
      test-tcas  "663 1 261 281 633 4095 0 461 615 0 1 1"
      ;;
    14)
      test-tcas  "462 0 616 982 852 4112 2 244 414 0 0 1"
      ;;
    15)
      test-tcas  "869 0 273 231 518 6768 3 943 70 1 0 1"
      ;;
    16)
      test-tcas  "152 1 886 722 92 1898 2 84 502 1 0 0"
      ;;
esac
