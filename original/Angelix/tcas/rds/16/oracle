#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "97 1 453 132 490 5861 2 838 915 1 1 1"
      ;;
    2)
      test-tcas  "862 1 809 347 381 4416 0 986 400 1 0 0"
      ;;
    3)
      test-tcas  "141 0 680 218 292 5233 1 799 997 0 1 1"
      ;;
    4)
      test-tcas  "312 0 128 222 742 6766 1 591 654 0 0 1"
      ;;
    5)
      test-tcas  "862 0 744 348 425 6031 2 431 776 1 0 1"
      ;;
    6)
      test-tcas  "597 0 726 393 504 6801 0 125 444 0 1 0"
      ;;
    7)
      test-tcas  "946 1 966 599 755 5504 1 438 165 0 0 1"
      ;;
    8)
      test-tcas  "355 0 330 548 339 1769 1 263 718 0 0 1"
      ;;
    9)
      test-tcas  "293 1 843 620 711 3269 0 825 779 1 1 1"
      ;;
    10)
      test-tcas  "751 1 358 749 895 3236 1 547 913 0 0 0"
      ;;
    11)
      test-tcas  "325 1 523 847 771 3603 3 793 288 1 1 0"
      ;;
    12)
      test-tcas  "5 0 405 885 384 7312 2 391 75 0 1 1"
      ;;
    13)
      test-tcas  "713 0 60 390 465 9807 2 651 961 1 0 1"
      ;;
    14)
      test-tcas  "324 1 564 983 339 2167 1 461 500 1 1 0"
      ;;
    15)
      test-tcas  "539 0 637 517 280 6699 2 16 139 1 1 0"
      ;;
    16)
      test-tcas  "354 1 915 405 78 133 3 838 798 0 0 0"
      ;;
esac
