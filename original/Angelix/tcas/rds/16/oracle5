#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "268 0 360 230 567 3491 0 283 92 1 1 1"
      ;;
    2)
      test-tcas  "17 1 534 937 390 1156 1 783 699 1 1 1"
      ;;
    3)
      test-tcas  "375 1 136 607 795 3093 2 9 663 1 0 1"
      ;;
    4)
      test-tcas  "394 1 218 739 18 2850 3 431 411 1 0 0"
      ;;
    5)
      test-tcas  "121 1 415 578 906 5629 1 664 151 1 0 1"
      ;;
    6)
      test-tcas  "690 1 987 39 221 7973 0 997 400 1 0 1"
      ;;
    7)
      test-tcas  "933 0 4 733 434 4752 1 606 617 1 0 0"
      ;;
    8)
      test-tcas  "424 0 549 635 11 965 2 355 144 1 1 1"
      ;;
    9)
      test-tcas  "434 0 887 95 16 1402 1 320 734 1 0 0"
      ;;
    10)
      test-tcas  "629 0 955 179 541 2737 3 419 931 1 1 0"
      ;;
    11)
      test-tcas  "619 1 283 626 989 20 2 962 339 1 0 1"
      ;;
    12)
      test-tcas  "507 1 537 221 576 2944 3 367 477 1 1 1"
      ;;
    13)
      test-tcas  "544 0 337 855 653 6529 3 898 379 1 1 1"
      ;;
    14)
      test-tcas  "742 1 748 237 478 6137 1 919 470 0 1 1"
      ;;
    15)
      test-tcas  "900 1 21 909 950 7910 1 924 360 0 1 0"
      ;;
    16)
      test-tcas  "992 0 578 53 587 2828 1 473 282 0 1 0"
      ;;
esac
