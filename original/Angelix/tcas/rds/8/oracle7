#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "980 1 281 471 262 112 0 577 63 1 1 1"
      ;;
    2)
      test-tcas  "369 1 309 917 259 5808 3 290 474 0 0 0"
      ;;
    3)
      test-tcas  "978 1 415 942 150 71 3 161 55 0 1 1"
      ;;
    4)
      test-tcas  "95 0 523 638 244 6678 0 721 957 0 1 1"
      ;;
    5)
      test-tcas  "804 1 770 756 867 396 0 397 928 1 0 1"
      ;;
    6)
      test-tcas  "527 0 179 467 35 1157 3 175 2 0 0 0"
      ;;
    7)
      test-tcas  "151 0 178 255 583 7223 1 81 916 1 0 0"
      ;;
    8)
      test-tcas  "360 0 650 7 937 4240 3 606 374 1 1 0"
      ;;
    9)
      test-tcas  "523 1 310 267 483 8830 2 841 29 1 0 1"
      ;;
    10)
      test-tcas  "319 1 910 862 334 5523 2 149 967 1 0 1"
      ;;
    11)
      test-tcas  "186 1 97 711 240 4434 1 575 444 1 1 1"
      ;;
    12)
      test-tcas  "687 1 623 572 442 4135 3 899 702 0 1 0"
      ;;
    13)
      test-tcas  "3 1 133 749 372 9656 1 315 844 1 0 1"
      ;;
    14)
      test-tcas  "942 1 802 414 376 9446 3 127 20 0 1 1"
      ;;
    15)
      test-tcas  "163 0 813 188 905 7506 3 588 529 0 0 0"
      ;;
    16)
      test-tcas  "668 0 910 888 77 7670 2 122 866 1 1 1"
      ;;
    17)
      test-tcas  "129 1 164 76 6 6256 1 601 322 0 0 0"
      ;;
    18)
      test-tcas  "160 0 495 971 881 6974 0 112 338 1 1 0"
      ;;
esac
