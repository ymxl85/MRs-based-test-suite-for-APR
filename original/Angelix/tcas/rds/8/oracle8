#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "13 1 658 210 713 2356 0 616 532 1 1 1"
      ;;
    2)
      test-tcas  "304 1 219 264 364 1969 2 741 629 1 0 1"
      ;;
    3)
      test-tcas  "37 0 790 78 986 2280 3 965 883 1 1 0"
      ;;
    4)
      test-tcas  "564 1 79 324 142 6857 0 549 766 1 0 1"
      ;;
    5)
      test-tcas  "924 1 321 714 131 4141 2 127 312 1 1 1"
      ;;
    6)
      test-tcas  "740 1 327 870 112 8164 3 241 262 1 0 0"
      ;;
    7)
      test-tcas  "32 0 144 563 19 7536 3 145 304 1 1 0"
      ;;
    8)
      test-tcas  "727 1 916 990 14 1670 3 837 803 0 0 1"
      ;;
    9)
      test-tcas  "673 0 540 644 379 5597 3 166 779 1 0 0"
      ;;
    10)
      test-tcas  "430 1 633 8 405 9319 1 341 642 0 1 1"
      ;;
    11)
      test-tcas  "86 0 205 599 929 4380 2 468 500 0 1 0"
      ;;
    12)
      test-tcas  "740 1 352 997 743 9355 1 680 546 0 1 0"
      ;;
    13)
      test-tcas  "196 0 87 259 158 7013 0 138 265 1 1 0"
      ;;
    14)
      test-tcas  "768 0 244 634 504 9328 2 582 850 1 0 0"
      ;;
    15)
      test-tcas  "905 0 183 704 332 1953 3 259 353 1 0 1"
      ;;
    16)
      test-tcas  "672 1 753 39 543 7548 3 861 725 0 1 0"
      ;;
    17)
      test-tcas  "850 1 695 89 570 7171 0 741 944 1 0 0"
      ;;
    18)
      test-tcas  "666 0 353 450 156 1093 3 879 993 0 1 0"
      ;;
esac
