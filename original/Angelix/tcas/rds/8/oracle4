#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "224 1 168 460 14 1556 3 173 921 0 1 0"
      ;;
    2)
      test-tcas  "585 1 252 621 79 1879 1 808 966 1 0 0"
      ;;
    3)
      test-tcas  "785 1 910 323 183 7375 0 819 611 0 0 0"
      ;;
    4)
      test-tcas  "33 0 161 617 352 6306 3 238 338 0 1 1"
      ;;
    5)
      test-tcas  "672 1 660 560 375 1080 1 506 251 1 0 1"
      ;;
    6)
      test-tcas  "211 0 378 240 287 8047 3 805 896 1 0 0"
      ;;
    7)
      test-tcas  "454 1 435 923 759 60 1 227 643 0 0 1"
      ;;
    8)
      test-tcas  "266 0 683 485 115 7409 3 545 161 1 1 1"
      ;;
    9)
      test-tcas  "888 0 810 693 880 2776 2 291 465 1 0 0"
      ;;
    10)
      test-tcas  "435 1 735 800 256 6927 3 296 263 1 1 0"
      ;;
    11)
      test-tcas  "279 0 854 539 752 3786 1 963 3 1 0 1"
      ;;
    12)
      test-tcas  "413 1 408 710 412 6466 0 217 937 1 0 1"
      ;;
    13)
      test-tcas  "658 1 730 309 586 9647 2 347 890 1 0 0"
      ;;
    14)
      test-tcas  "663 0 514 480 96 8479 2 820 22 1 0 1"
      ;;
    15)
      test-tcas  "84 1 439 518 836 9893 2 627 920 1 0 1"
      ;;
    16)
      test-tcas  "115 1 524 654 438 8868 3 749 671 1 0 1"
      ;;
    17)
      test-tcas  "666 1 499 479 523 9761 3 7 265 0 0 1"
      ;;
    18)
      test-tcas  "959 1 195 592 323 1373 3 788 718 0 0 1"
      ;;
esac
