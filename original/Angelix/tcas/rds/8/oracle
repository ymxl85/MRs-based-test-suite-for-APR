#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "716 1 229 717 206 2941 3 802 729 0 0 0"
      ;;
    2)
      test-tcas  "331 1 576 939 140 9490 1 811 902 1 1 0"
      ;;
    3)
      test-tcas  "171 0 468 972 911 9769 3 103 475 0 1 1"
      ;;
    4)
      test-tcas  "789 0 66 736 124 3925 3 453 995 1 1 1"
      ;;
    5)
      test-tcas  "578 1 189 680 546 4870 1 252 354 1 1 1"
      ;;
    6)
      test-tcas  "821 0 697 123 351 8093 2 304 200 1 0 0"
      ;;
    7)
      test-tcas  "32 1 79 989 403 8110 1 719 922 0 0 1"
      ;;
    8)
      test-tcas  "579 1 63 4 132 6388 1 264 503 0 0 1"
      ;;
    9)
      test-tcas  "864 0 16 733 440 9085 0 234 107 0 0 0"
      ;;
    10)
      test-tcas  "534 0 306 284 973 3605 3 781 774 1 1 1"
      ;;
    11)
      test-tcas  "387 0 717 249 895 858 0 776 93 1 0 1"
      ;;
    12)
      test-tcas  "782 1 324 353 164 5114 1 576 217 1 1 0"
      ;;
    13)
      test-tcas  "496 1 97 441 37 5637 2 670 980 1 1 1"
      ;;
    14)
      test-tcas  "55 1 768 801 307 3652 2 897 308 0 1 0"
      ;;
    15)
      test-tcas  "622 1 289 387 482 4855 1 957 481 1 1 0"
      ;;
    16)
      test-tcas  "572 1 399 321 812 1437 1 122 133 1 1 0"
      ;;
    17)
      test-tcas  "840 0 558 73 693 8614 0 485 196 1 0 0"
      ;;
    18)
      test-tcas  "155 0 659 957 643 8804 2 751 285 1 0 0"
      ;;
esac
