#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "502 0 995 69 20 6848 2 367 42 0 0 1"
      ;;
    2)
      test-tcas  "19 1 164 271 407 9720 0 245 363 0 0 0"
      ;;
    3)
      test-tcas  "51 0 759 388 134 8956 3 436 465 1 1 0"
      ;;
    4)
      test-tcas  "396 0 814 405 399 4094 2 696 899 0 0 1"
      ;;
    5)
      test-tcas  "284 0 699 978 105 2932 0 828 367 1 0 0"
      ;;
    6)
      test-tcas  "618 0 170 208 294 2960 2 856 399 1 1 1"
      ;;
    7)
      test-tcas  "109 0 942 974 380 3341 2 964 938 1 1 1"
      ;;
    8)
      test-tcas  "326 0 589 337 818 230 0 428 75 0 1 0"
      ;;
    9)
      test-tcas  "430 0 97 269 506 7446 2 106 716 1 1 1"
      ;;
    10)
      test-tcas  "858 0 240 631 609 8349 1 429 258 1 1 1"
      ;;
    11)
      test-tcas  "388 1 966 982 574 3370 0 123 366 1 0 0"
      ;;
    12)
      test-tcas  "949 1 186 414 933 876 3 173 644 0 0 1"
      ;;
    13)
      test-tcas  "156 1 864 224 36 7002 1 793 459 0 0 1"
      ;;
    14)
      test-tcas  "901 1 950 753 94 2693 3 391 326 0 1 0"
      ;;
    15)
      test-tcas  "407 1 598 299 887 3544 0 661 131 0 1 1"
      ;;
    16)
      test-tcas  "933 1 246 458 199 9987 1 155 106 0 0 0"
      ;;
    17)
      test-tcas  "809 1 429 758 453 2101 3 741 733 0 1 1"
      ;;
    18)
      test-tcas  "738 1 802 850 107 4670 3 492 836 0 0 0"
      ;;
esac
