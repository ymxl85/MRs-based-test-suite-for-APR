#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "932 1 208 551 579 4313 1 147 540 1 1 0"
      ;;
    2)
      test-tcas  "190 0 913 915 920 1232 1 690 671 1 1 0"
      ;;
    3)
      test-tcas  "721 0 25 981 546 9702 1 940 108 1 1 0"
      ;;
    4)
      test-tcas  "223 0 849 672 767 1952 0 712 360 0 1 0"
      ;;
    5)
      test-tcas  "807 0 6 198 26 2254 0 469 414 0 1 1"
      ;;
    6)
      test-tcas  "604 1 181 292 329 799 3 630 700 0 1 1"
      ;;
    7)
      test-tcas  "533 0 600 120 490 426 1 396 704 1 0 0"
      ;;
    8)
      test-tcas  "255 0 28 857 316 9891 1 130 65 1 1 0"
      ;;
    9)
      test-tcas  "464 0 26 639 838 580 0 591 775 1 1 1"
      ;;
    10)
      test-tcas  "244 0 28 858 988 7718 2 89 182 0 0 0"
      ;;
    11)
      test-tcas  "67 1 417 613 791 2218 0 31 925 1 1 0"
      ;;
    12)
      test-tcas  "238 1 286 648 128 5335 2 354 733 1 0 1"
      ;;
    13)
      test-tcas  "166 0 872 104 505 5247 1 877 126 1 1 0"
      ;;
    14)
      test-tcas  "721 0 851 94 899 2610 2 830 544 0 0 0"
      ;;
    15)
      test-tcas  "227 0 687 354 833 934 1 573 222 1 0 1"
      ;;
    16)
      test-tcas  "187 0 82 44 184 7441 1 870 313 0 1 1"
      ;;
    17)
      test-tcas  "823 0 286 211 942 750 3 85 236 0 1 1"
      ;;
    18)
      test-tcas  "759 0 574 463 227 3395 3 189 82 1 1 0"
      ;;
esac
