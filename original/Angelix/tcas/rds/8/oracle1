#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "513 0 967 917 196 5728 2 620 869 0 0 1"
      ;;
    2)
      test-tcas  "382 1 849 361 370 9090 2 592 558 1 1 1"
      ;;
    3)
      test-tcas  "560 1 8 150 389 7923 0 771 417 0 1 1"
      ;;
    4)
      test-tcas  "936 1 639 112 886 6281 1 806 497 0 0 1"
      ;;
    5)
      test-tcas  "806 0 786 787 63 4310 3 438 988 0 0 0"
      ;;
    6)
      test-tcas  "769 0 953 188 429 799 1 12 924 0 0 0"
      ;;
    7)
      test-tcas  "893 0 455 126 521 7780 1 83 362 1 1 1"
      ;;
    8)
      test-tcas  "305 0 9 704 74 9269 2 579 787 1 1 0"
      ;;
    9)
      test-tcas  "156 1 728 878 803 1044 0 938 83 1 1 1"
      ;;
    10)
      test-tcas  "490 0 487 211 446 7854 3 570 787 1 0 0"
      ;;
    11)
      test-tcas  "776 0 797 181 824 8659 1 797 404 0 0 0"
      ;;
    12)
      test-tcas  "820 1 533 573 608 9345 3 348 340 0 0 0"
      ;;
    13)
      test-tcas  "515 0 463 654 39 5971 1 225 521 1 1 0"
      ;;
    14)
      test-tcas  "243 0 213 928 192 9799 1 579 990 0 0 1"
      ;;
    15)
      test-tcas  "907 1 275 398 390 8358 3 960 715 0 0 0"
      ;;
    16)
      test-tcas  "418 1 856 268 154 4365 1 35 501 1 1 0"
      ;;
    17)
      test-tcas  "12 1 742 103 519 6680 0 531 279 0 0 1"
      ;;
    18)
      test-tcas  "73 1 966 418 764 4455 1 850 145 1 1 1"
      ;;
esac
