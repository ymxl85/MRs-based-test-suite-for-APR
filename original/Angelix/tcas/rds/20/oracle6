#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "777 1 21 325 731 9581 3 620 557 1 1 1"
      ;;
    2)
      test-tcas  "8 0 121 768 393 8681 2 576 592 0 0 1"
      ;;
    3)
      test-tcas  "29 0 158 790 794 2858 2 271 765 0 1 0"
      ;;
    4)
      test-tcas  "627 1 852 836 136 2317 2 581 855 0 0 1"
      ;;
    5)
      test-tcas  "843 0 245 410 466 2149 1 275 589 1 1 0"
      ;;
    6)
      test-tcas  "864 0 755 966 773 6171 1 831 344 1 0 0"
      ;;
    7)
      test-tcas  "191 0 524 589 638 3171 0 699 193 1 1 1"
      ;;
    8)
      test-tcas  "594 1 949 593 954 124 1 100 278 0 0 1"
      ;;
    9)
      test-tcas  "795 0 292 179 54 6601 0 611 731 1 0 1"
      ;;
    10)
      test-tcas  "449 1 979 791 660 3950 3 437 848 1 0 0"
      ;;
    11)
      test-tcas  "881 0 664 739 311 1841 2 357 861 0 0 0"
      ;;
    12)
      test-tcas  "84 0 266 81 434 3518 1 927 584 1 1 0"
      ;;
    13)
      test-tcas  "838 1 87 667 925 9474 2 547 296 0 1 0"
      ;;
    14)
      test-tcas  "269 1 713 558 37 7388 3 538 572 1 1 0"
      ;;
    15)
      test-tcas  "957 1 716 910 506 3938 3 325 325 1 0 0"
      ;;
    16)
      test-tcas  "628 0 205 670 228 1568 0 290 78 1 1 1"
      ;;
    17)
      test-tcas  "669 1 44 211 368 448 0 786 496 1 1 0"
      ;;
    18)
      test-tcas  "62 0 12 251 591 2724 3 172 393 0 1 0"
      ;;
    19)
      test-tcas  "993 0 387 127 123 2673 1 596 883 1 0 1"
      ;;
    20)
      test-tcas  "189 0 334 629 595 2594 2 569 950 1 0 1"
      ;;
esac
