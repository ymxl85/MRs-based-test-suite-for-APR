#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "92 1 173 0 531 5790 0 869 861 1 1 0"
      ;;
    2)
      test-tcas  "122 0 487 631 949 7343 0 223 330 1 0 1"
      ;;
    3)
      test-tcas  "844 0 404 532 763 5755 1 763 761 1 0 0"
      ;;
    4)
      test-tcas  "835 0 885 35 685 3567 1 304 19 0 1 1"
      ;;
    5)
      test-tcas  "163 0 477 846 913 5029 1 969 789 0 0 0"
      ;;
    6)
      test-tcas  "702 1 1 88 605 3586 1 782 852 1 1 1"
      ;;
    7)
      test-tcas  "856 1 188 470 114 1354 1 930 827 1 1 0"
      ;;
    8)
      test-tcas  "171 0 624 368 697 5628 2 939 513 0 1 1"
      ;;
    9)
      test-tcas  "636 0 409 399 364 6623 2 238 591 1 0 1"
      ;;
    10)
      test-tcas  "753 1 408 152 474 6902 3 59 59 0 1 0"
      ;;
    11)
      test-tcas  "700 1 919 981 601 6461 1 275 298 0 1 0"
      ;;
    12)
      test-tcas  "117 1 3 280 32 8095 2 688 221 1 1 1"
      ;;
    13)
      test-tcas  "255 0 611 357 141 5550 0 402 451 1 0 0"
      ;;
    14)
      test-tcas  "353 1 1 942 658 2002 2 225 922 1 1 0"
      ;;
    15)
      test-tcas  "248 1 760 528 645 8635 1 612 761 0 1 1"
      ;;
    16)
      test-tcas  "309 1 37 93 750 2531 1 437 677 0 1 1"
      ;;
    17)
      test-tcas  "844 1 357 342 998 9686 3 844 491 0 0 0"
      ;;
    18)
      test-tcas  "155 0 639 409 85 2761 2 680 759 0 1 1"
      ;;
    19)
      test-tcas  "427 0 685 972 783 4175 0 384 744 0 0 1"
      ;;
    20)
      test-tcas  "574 1 659 987 702 3301 0 903 304 1 1 0"
      ;;
esac
