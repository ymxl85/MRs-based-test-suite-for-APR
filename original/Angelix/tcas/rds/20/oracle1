#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "210 0 212 880 856 5521 1 46 799 1 1 0"
      ;;
    2)
      test-tcas  "182 0 871 773 242 8671 0 882 959 0 0 0"
      ;;
    3)
      test-tcas  "640 1 57 860 109 3812 2 615 615 0 0 0"
      ;;
    4)
      test-tcas  "567 0 15 702 731 9014 1 279 585 0 1 1"
      ;;
    5)
      test-tcas  "96 1 803 477 336 3406 0 277 958 0 1 1"
      ;;
    6)
      test-tcas  "775 0 552 120 372 4232 3 14 932 0 1 1"
      ;;
    7)
      test-tcas  "236 0 62 16 89 5042 3 519 281 1 0 1"
      ;;
    8)
      test-tcas  "533 0 165 742 818 134 3 775 820 1 0 1"
      ;;
    9)
      test-tcas  "320 0 777 240 743 4766 2 632 141 0 0 1"
      ;;
    10)
      test-tcas  "452 0 156 608 950 8469 2 266 410 0 0 1"
      ;;
    11)
      test-tcas  "698 1 611 277 126 63 3 10 170 0 1 1"
      ;;
    12)
      test-tcas  "863 0 660 816 457 7661 3 140 760 1 1 0"
      ;;
    13)
      test-tcas  "894 0 556 892 53 5086 3 757 305 1 1 0"
      ;;
    14)
      test-tcas  "343 0 30 65 597 7710 3 348 104 0 0 1"
      ;;
    15)
      test-tcas  "35 1 228 61 869 5711 0 866 759 1 0 0"
      ;;
    16)
      test-tcas  "779 0 938 32 362 1216 0 275 453 0 1 1"
      ;;
    17)
      test-tcas  "586 1 478 953 350 7663 0 478 475 0 0 1"
      ;;
    18)
      test-tcas  "89 1 985 825 519 5044 1 314 385 0 1 0"
      ;;
    19)
      test-tcas  "633 1 256 738 581 3461 2 987 27 0 0 1"
      ;;
    20)
      test-tcas  "937 0 865 32 280 9603 3 748 127 0 0 0"
      ;;
esac
