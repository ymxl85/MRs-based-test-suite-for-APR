#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "115 1 956 609 600 1766 1 874 707 1 1 1"
      ;;
    2)
      test-tcas  "923 1 861 966 631 8530 1 388 632 0 0 0"
      ;;
    3)
      test-tcas  "479 0 254 513 634 5844 0 48 277 1 0 1"
      ;;
    4)
      test-tcas  "194 1 313 768 795 6585 1 457 749 0 0 0"
      ;;
    5)
      test-tcas  "112 1 928 929 133 1197 1 276 63 1 1 1"
      ;;
    6)
      test-tcas  "462 0 221 410 429 4998 0 306 157 1 1 1"
      ;;
    7)
      test-tcas  "980 1 46 146 846 8736 1 507 737 1 1 1"
      ;;
    8)
      test-tcas  "138 0 517 350 62 4748 1 638 503 1 1 1"
      ;;
    9)
      test-tcas  "449 0 5 140 741 5602 0 661 119 0 1 0"
      ;;
    10)
      test-tcas  "798 0 607 210 782 1278 2 386 888 0 0 1"
      ;;
    11)
      test-tcas  "194 1 917 363 182 4810 2 201 353 1 0 0"
      ;;
    12)
      test-tcas  "549 1 903 388 459 4898 1 23 80 0 1 0"
      ;;
    13)
      test-tcas  "997 1 996 413 379 7247 1 888 561 0 1 0"
      ;;
    14)
      test-tcas  "883 1 903 404 276 4296 1 856 668 0 1 0"
      ;;
    15)
      test-tcas  "934 1 350 95 505 5687 0 109 209 0 0 1"
      ;;
    16)
      test-tcas  "137 0 876 124 562 9076 3 309 27 1 1 0"
      ;;
    17)
      test-tcas  "701 0 877 659 59 2944 1 444 705 0 0 0"
      ;;
    18)
      test-tcas  "928 0 458 273 181 9707 0 494 218 0 1 0"
      ;;
    19)
      test-tcas  "70 1 201 243 391 8841 3 365 947 1 0 1"
      ;;
    20)
      test-tcas  "193 0 713 875 956 5782 1 577 196 1 0 0"
      ;;
esac
