#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "33 0 952 989 776 4321 2 883 982 0 0 1"
      ;;
    2)
      test-tcas  "305 0 674 874 350 2286 3 344 538 1 1 1"
      ;;
    3)
      test-tcas  "922 1 600 909 437 4497 2 662 810 0 0 1"
      ;;
    4)
      test-tcas  "35 0 778 20 870 7553 3 767 294 0 1 1"
      ;;
    5)
      test-tcas  "249 1 420 293 251 3163 0 716 690 0 1 0"
      ;;
    6)
      test-tcas  "694 0 682 3 457 8568 2 865 858 1 0 1"
      ;;
    7)
      test-tcas  "978 0 748 648 874 7374 0 660 596 0 1 0"
      ;;
    8)
      test-tcas  "957 0 82 997 17 6289 1 56 587 1 0 0"
      ;;
    9)
      test-tcas  "327 1 98 896 145 7755 0 998 700 1 1 0"
      ;;
    10)
      test-tcas  "772 1 77 281 142 7664 3 778 414 1 0 0"
      ;;
    11)
      test-tcas  "903 1 937 569 308 1204 2 405 405 0 1 0"
      ;;
    12)
      test-tcas  "387 0 530 195 813 8471 0 448 350 1 0 1"
      ;;
    13)
      test-tcas  "600 0 326 749 380 4713 2 73 723 1 1 1"
      ;;
    14)
      test-tcas  "748 1 845 698 284 8028 2 279 801 1 0 0"
      ;;
    15)
      test-tcas  "771 1 850 282 50 9945 0 499 253 0 1 0"
      ;;
    16)
      test-tcas  "379 1 219 680 146 1667 0 970 579 1 0 0"
      ;;
    17)
      test-tcas  "403 1 526 39 722 705 3 393 248 0 1 0"
      ;;
    18)
      test-tcas  "100 0 690 437 813 9376 3 544 715 1 0 1"
      ;;
    19)
      test-tcas  "301 0 620 265 569 7972 2 586 523 1 1 1"
      ;;
    20)
      test-tcas  "238 0 521 951 932 1502 2 874 458 0 1 1"
      ;;
esac
