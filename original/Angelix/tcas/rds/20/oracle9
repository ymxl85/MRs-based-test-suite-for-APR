#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "456 0 43 708 350 7649 2 768 719 1 0 1"
      ;;
    2)
      test-tcas  "789 1 871 700 478 2973 2 16 598 1 0 0"
      ;;
    3)
      test-tcas  "836 1 825 611 149 6753 2 358 358 1 0 0"
      ;;
    4)
      test-tcas  "751 1 694 681 455 3009 1 273 178 1 0 0"
      ;;
    5)
      test-tcas  "681 1 373 666 7 9086 2 811 48 0 1 1"
      ;;
    6)
      test-tcas  "514 0 875 72 745 5862 0 803 103 0 1 1"
      ;;
    7)
      test-tcas  "846 1 153 720 523 9264 3 113 896 0 1 1"
      ;;
    8)
      test-tcas  "341 1 412 115 467 3631 3 532 432 0 1 1"
      ;;
    9)
      test-tcas  "68 0 298 147 451 5708 0 685 1 1 0 0"
      ;;
    10)
      test-tcas  "547 1 337 802 42 979 1 74 786 1 1 1"
      ;;
    11)
      test-tcas  "55 0 152 581 47 1705 0 89 899 1 1 0"
      ;;
    12)
      test-tcas  "346 1 389 377 249 8314 2 508 865 0 1 0"
      ;;
    13)
      test-tcas  "186 1 901 540 136 2812 3 677 675 1 1 1"
      ;;
    14)
      test-tcas  "149 1 570 841 291 4577 0 134 356 0 1 1"
      ;;
    15)
      test-tcas  "809 1 194 971 808 5248 0 101 519 0 0 0"
      ;;
    16)
      test-tcas  "926 0 140 110 382 528 0 763 631 0 0 1"
      ;;
    17)
      test-tcas  "383 0 960 997 833 2426 2 825 707 1 0 0"
      ;;
    18)
      test-tcas  "501 0 856 732 592 5936 3 310 824 1 0 0"
      ;;
    19)
      test-tcas  "966 0 839 393 180 9269 3 45 256 0 1 1"
      ;;
    20)
      test-tcas  "920 1 524 307 948 6558 3 703 185 1 0 0"
      ;;
esac
