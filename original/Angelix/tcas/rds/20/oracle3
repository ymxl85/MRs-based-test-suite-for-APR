#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "404 0 445 179 221 9540 0 355 359 0 0 1"
      ;;
    2)
      test-tcas  "43 0 478 472 602 7117 0 754 532 0 0 1"
      ;;
    3)
      test-tcas  "318 0 537 475 373 262 1 15 551 0 0 1"
      ;;
    4)
      test-tcas  "895 1 345 443 455 2737 1 46 234 0 0 0"
      ;;
    5)
      test-tcas  "600 1 838 783 772 2235 0 9 322 1 1 1"
      ;;
    6)
      test-tcas  "975 1 32 675 392 1978 0 10 10 0 1 0"
      ;;
    7)
      test-tcas  "490 1 247 470 769 7154 0 258 250 0 0 0"
      ;;
    8)
      test-tcas  "180 1 495 830 866 4491 2 621 933 1 0 0"
      ;;
    9)
      test-tcas  "534 0 249 301 3 3113 3 59 214 1 0 1"
      ;;
    10)
      test-tcas  "590 0 862 94 473 3126 3 211 373 1 1 1"
      ;;
    11)
      test-tcas  "418 0 505 229 183 5099 2 660 966 0 1 0"
      ;;
    12)
      test-tcas  "490 0 711 959 955 8778 2 860 337 1 1 1"
      ;;
    13)
      test-tcas  "859 1 417 504 576 2967 1 656 95 0 0 0"
      ;;
    14)
      test-tcas  "567 0 797 518 194 573 2 497 694 0 0 1"
      ;;
    15)
      test-tcas  "325 1 164 550 335 3247 1 26 932 0 1 0"
      ;;
    16)
      test-tcas  "171 0 824 843 492 9025 3 645 952 1 1 1"
      ;;
    17)
      test-tcas  "640 1 924 302 109 3672 2 885 171 1 1 0"
      ;;
    18)
      test-tcas  "831 1 121 277 667 2270 2 17 498 0 0 1"
      ;;
    19)
      test-tcas  "759 1 276 963 586 1780 0 285 276 1 0 1"
      ;;
    20)
      test-tcas  "429 0 318 704 782 8003 0 405 476 1 0 0"
      ;;
esac
