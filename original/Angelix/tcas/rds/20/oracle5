#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "748 1 457 87 464 3308 3 980 330 1 1 0"
      ;;
    2)
      test-tcas  "630 0 43 487 194 205 0 881 560 0 0 1"
      ;;
    3)
      test-tcas  "984 1 889 193 274 1863 3 31 771 0 1 1"
      ;;
    4)
      test-tcas  "778 1 798 787 405 4479 2 0 100 0 1 1"
      ;;
    5)
      test-tcas  "116 1 640 397 759 1847 0 782 570 0 1 0"
      ;;
    6)
      test-tcas  "516 0 343 775 836 4824 0 332 484 0 0 1"
      ;;
    7)
      test-tcas  "964 0 714 559 927 5274 3 513 151 0 0 0"
      ;;
    8)
      test-tcas  "328 1 697 757 680 6026 2 183 566 0 1 0"
      ;;
    9)
      test-tcas  "97 0 692 935 278 3104 3 951 340 0 1 0"
      ;;
    10)
      test-tcas  "739 0 146 187 768 8424 0 151 841 0 1 1"
      ;;
    11)
      test-tcas  "299 0 620 773 7 253 3 839 119 0 0 0"
      ;;
    12)
      test-tcas  "118 0 26 429 660 5027 3 46 787 0 1 0"
      ;;
    13)
      test-tcas  "815 1 662 534 559 7621 0 231 586 0 1 0"
      ;;
    14)
      test-tcas  "879 0 118 893 631 7816 3 735 891 1 1 0"
      ;;
    15)
      test-tcas  "413 1 994 547 422 8600 0 200 904 0 0 1"
      ;;
    16)
      test-tcas  "720 0 728 973 64 6951 1 196 774 0 0 0"
      ;;
    17)
      test-tcas  "534 0 664 165 316 28 2 894 266 0 0 0"
      ;;
    18)
      test-tcas  "817 0 798 487 37 9083 1 371 69 1 0 0"
      ;;
    19)
      test-tcas  "62 0 353 714 189 42 2 126 151 0 1 0"
      ;;
    20)
      test-tcas  "116 1 640 539 133 3491 0 603 941 1 0 1"
      ;;
esac
