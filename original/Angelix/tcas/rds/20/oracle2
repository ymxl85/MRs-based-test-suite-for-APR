#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "392 0 593 702 265 9630 0 432 572 1 0 1"
      ;;
    2)
      test-tcas  "40 1 302 801 594 637 2 976 74 1 0 1"
      ;;
    3)
      test-tcas  "715 0 444 648 877 6766 0 898 502 1 0 0"
      ;;
    4)
      test-tcas  "923 0 851 778 933 1012 2 973 464 0 0 0"
      ;;
    5)
      test-tcas  "851 0 213 949 416 6045 3 883 4 1 0 0"
      ;;
    6)
      test-tcas  "206 0 112 705 224 4316 2 54 710 1 1 0"
      ;;
    7)
      test-tcas  "485 0 467 731 694 9334 3 782 881 1 0 0"
      ;;
    8)
      test-tcas  "394 0 216 993 784 2836 0 462 127 0 1 1"
      ;;
    9)
      test-tcas  "699 1 501 58 90 2 0 60 596 0 0 1"
      ;;
    10)
      test-tcas  "726 1 93 124 725 4427 2 20 308 1 0 0"
      ;;
    11)
      test-tcas  "197 1 160 158 643 6347 0 531 841 1 0 0"
      ;;
    12)
      test-tcas  "27 1 875 63 108 1538 1 562 853 0 1 0"
      ;;
    13)
      test-tcas  "47 1 702 132 519 4496 0 265 616 1 1 1"
      ;;
    14)
      test-tcas  "528 1 493 10 852 7795 0 265 915 1 0 1"
      ;;
    15)
      test-tcas  "665 0 826 138 414 67 0 965 282 0 1 1"
      ;;
    16)
      test-tcas  "998 1 244 78 603 7727 2 367 683 0 0 0"
      ;;
    17)
      test-tcas  "998 0 285 290 751 479 0 963 299 0 1 1"
      ;;
    18)
      test-tcas  "780 1 363 794 30 7720 1 27 127 1 0 1"
      ;;
    19)
      test-tcas  "117 0 734 784 757 2200 2 186 624 0 1 1"
      ;;
    20)
      test-tcas  "567 1 871 529 260 8787 3 304 593 1 1 0"
      ;;
esac
