#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "200 0 415 427 842 1451 0 231 504 1 1 0"
      ;;
    2)
      test-tcas  "89 1 661 722 709 5817 2 867 610 0 0 1"
      ;;
    3)
      test-tcas  "748 1 953 761 922 4776 3 958 348 0 1 1"
      ;;
    4)
      test-tcas  "903 0 170 444 792 7908 0 825 315 0 0 0"
      ;;
    5)
      test-tcas  "489 0 94 946 752 9997 1 132 654 1 0 1"
      ;;
    6)
      test-tcas  "428 1 220 850 618 1184 3 489 460 1 0 0"
      ;;
    7)
      test-tcas  "565 0 681 147 561 8467 2 426 722 0 0 1"
      ;;
    8)
      test-tcas  "307 1 731 297 292 6924 3 188 371 1 1 0"
      ;;
    9)
      test-tcas  "671 1 916 348 402 888 3 615 715 0 1 1"
      ;;
    10)
      test-tcas  "460 1 88 956 117 3023 0 291 144 1 0 0"
      ;;
    11)
      test-tcas  "157 0 821 182 855 2923 2 152 380 0 0 0"
      ;;
    12)
      test-tcas  "827 1 464 952 968 6508 1 858 854 1 0 0"
      ;;
    13)
      test-tcas  "855 0 176 290 866 2998 0 402 866 1 0 1"
      ;;
    14)
      test-tcas  "759 0 651 641 412 7807 3 760 154 0 0 1"
      ;;
    15)
      test-tcas  "529 1 30 997 982 7056 0 724 301 1 0 1"
      ;;
    16)
      test-tcas  "52 0 572 950 940 2833 1 574 37 1 1 1"
      ;;
    17)
      test-tcas  "68 0 87 359 499 7606 1 806 988 1 1 1"
      ;;
    18)
      test-tcas  "904 1 944 948 965 1438 3 778 756 0 1 0"
      ;;
    19)
      test-tcas  "822 1 560 863 277 6848 1 928 370 1 0 1"
      ;;
    20)
      test-tcas  "284 0 773 64 463 3281 3 52 186 0 0 1"
      ;;
esac
