#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "662 0 744 445 562 6550 0 408 846 0 0 0"
      ;;
    2)
      test-tcas  "890 0 584 227 178 6347 3 580 132 1 1 1"
      ;;
    3)
      test-tcas  "422 0 209 33 851 8983 3 896 192 1 0 0"
      ;;
    4)
      test-tcas  "594 0 922 578 555 2941 2 252 763 0 1 1"
      ;;
    5)
      test-tcas  "513 1 945 702 829 5182 2 264 848 1 1 1"
      ;;
    6)
      test-tcas  "510 1 192 961 111 772 1 612 806 1 1 1"
      ;;
    7)
      test-tcas  "730 0 537 870 3 134 0 305 510 1 1 0"
      ;;
    8)
      test-tcas  "41 0 481 850 24 4836 3 240 869 0 0 1"
      ;;
    9)
      test-tcas  "645 1 684 779 654 3927 3 121 230 1 1 1"
      ;;
    10)
      test-tcas  "1 0 976 214 699 2396 2 706 526 1 1 0"
      ;;
    11)
      test-tcas  "32 0 191 927 448 1274 1 720 410 1 0 1"
      ;;
    12)
      test-tcas  "51 0 533 220 533 5338 1 397 157 1 0 0"
      ;;
    13)
      test-tcas  "349 0 78 752 989 9228 2 620 706 1 0 0"
      ;;
    14)
      test-tcas  "54 1 572 139 678 6072 3 988 914 1 0 0"
      ;;
    15)
      test-tcas  "571 1 784 525 989 4437 0 800 867 0 0 0"
      ;;
    16)
      test-tcas  "761 1 395 535 594 9613 1 10 10 0 0 0"
      ;;
    17)
      test-tcas  "898 0 698 665 966 3814 0 557 806 1 0 1"
      ;;
    18)
      test-tcas  "497 1 300 55 433 6937 2 207 715 0 0 1"
      ;;
    19)
      test-tcas  "152 0 496 903 640 4991 2 105 458 1 1 0"
      ;;
    20)
      test-tcas  "778 0 75 399 555 7238 1 640 767 1 1 1"
      ;;
esac
