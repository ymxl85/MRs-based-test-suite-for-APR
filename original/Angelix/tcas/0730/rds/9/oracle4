#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "774 0 261 52 777 2529 3 904 600 1 0 1"
      ;;
    2)
      test-tcas  "179 0 593 750 244 3798 3 373 178 1 0 1"
      ;;
    3)
      test-tcas  "867 0 485 177 715 2197 0 355 260 0 0 0"
      ;;
    4)
      test-tcas  "438 1 966 495 614 5206 0 150 960 1 0 0"
      ;;
    5)
      test-tcas  "606 1 449 472 287 1369 2 474 849 1 0 0"
      ;;
    6)
      test-tcas  "108 1 857 615 996 4462 2 180 860 0 1 1"
      ;;
    7)
      test-tcas  "66 0 867 231 761 6777 1 778 782 1 1 0"
      ;;
    8)
      test-tcas  "210 0 657 468 969 430 0 44 263 1 1 0"
      ;;
    9)
      test-tcas  "319 1 683 236 85 8777 1 22 82 1 1 1"
      ;;
    10)
      test-tcas  "558 1 768 272 457 2747 2 200 488 0 0 1"
      ;;
    11)
      test-tcas  "767 1 381 345 61 9406 3 591 691 0 1 1"
      ;;
    12)
      test-tcas  "496 1 189 931 124 2200 3 883 56 0 0 0"
      ;;
    13)
      test-tcas  "450 1 982 356 852 4197 3 681 293 1 1 0"
      ;;
    14)
      test-tcas  "108 0 730 649 33 7161 3 258 824 0 1 1"
      ;;
    15)
      test-tcas  "649 0 956 991 997 512 1 12 685 1 1 0"
      ;;
    16)
      test-tcas  "841 0 750 799 388 5146 0 171 671 1 0 1"
      ;;
    17)
      test-tcas  "323 0 563 80 387 7683 0 9 12 1 1 1"
      ;;
    18)
      test-tcas  "720 1 537 766 402 978 1 78 678 0 1 1"
      ;;
    19)
      test-tcas  "207 0 360 297 865 6723 0 690 430 0 1 1"
      ;;
    20)
      test-tcas  "593 1 689 718 615 5609 2 997 971 1 1 0"
      ;;
esac
