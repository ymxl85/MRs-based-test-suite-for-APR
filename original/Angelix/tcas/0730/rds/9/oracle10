#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "49 0 185 782 688 8034 1 166 833 0 1 0"
      ;;
    2)
      test-tcas  "761 0 897 420 368 1602 1 355 141 0 0 1"
      ;;
    3)
      test-tcas  "80 0 666 54 866 3145 0 665 719 1 0 1"
      ;;
    4)
      test-tcas  "206 0 813 818 726 3167 0 695 511 0 0 1"
      ;;
    5)
      test-tcas  "772 0 782 584 52 4719 2 894 924 1 0 1"
      ;;
    6)
      test-tcas  "945 1 358 995 152 1175 3 662 477 0 1 0"
      ;;
    7)
      test-tcas  "131 1 154 19 431 9034 0 588 533 1 1 0"
      ;;
    8)
      test-tcas  "225 1 548 586 295 6923 3 444 962 0 1 0"
      ;;
    9)
      test-tcas  "531 1 85 595 718 9888 1 760 86 1 1 1"
      ;;
    10)
      test-tcas  "641 0 759 471 902 3050 2 62 716 0 0 0"
      ;;
    11)
      test-tcas  "680 0 387 636 245 987 3 449 534 1 1 1"
      ;;
    12)
      test-tcas  "409 0 596 592 591 8602 3 946 463 1 0 1"
      ;;
    13)
      test-tcas  "750 1 697 915 424 5855 1 58 58 0 1 0"
      ;;
    14)
      test-tcas  "308 0 957 252 401 2535 2 150 269 1 1 1"
      ;;
    15)
      test-tcas  "480 0 484 440 208 239 3 725 267 1 0 0"
      ;;
    16)
      test-tcas  "692 0 100 91 404 6884 2 291 266 1 0 1"
      ;;
    17)
      test-tcas  "254 0 218 474 477 4462 2 400 558 1 0 1"
      ;;
    18)
      test-tcas  "210 0 845 162 898 3285 3 501 155 0 0 0"
      ;;
    19)
      test-tcas  "444 1 419 844 497 5684 3 567 663 0 0 1"
      ;;
    20)
      test-tcas  "148 1 210 797 974 9095 1 967 116 0 1 1"
      ;;
esac
