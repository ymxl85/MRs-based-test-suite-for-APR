#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "120 0 307 263 501 8204 1 479 84 1 0 0"
      ;;
    2)
      test-tcas  "631 1 954 621 395 4606 1 561 296 0 1 1"
      ;;
    3)
      test-tcas  "905 1 265 243 856 5912 2 91 162 1 0 1"
      ;;
    4)
      test-tcas  "878 0 178 890 693 4278 2 596 341 0 0 0"
      ;;
    5)
      test-tcas  "138 1 790 927 611 6286 3 715 882 0 1 0"
      ;;
    6)
      test-tcas  "457 1 928 608 85 9737 3 564 627 0 0 1"
      ;;
    7)
      test-tcas  "246 0 178 511 755 7905 0 247 708 0 1 0"
      ;;
    8)
      test-tcas  "617 1 628 653 736 5278 2 905 5 0 1 1"
      ;;
    9)
      test-tcas  "64 1 386 320 742 2199 2 109 65 1 0 1"
      ;;
    10)
      test-tcas  "601 0 722 869 934 1277 2 541 155 0 1 0"
      ;;
    11)
      test-tcas  "518 1 414 710 825 6198 0 739 705 0 0 1"
      ;;
    12)
      test-tcas  "637 0 616 325 506 3416 3 273 478 0 0 0"
      ;;
    13)
      test-tcas  "225 0 223 565 844 9318 2 984 364 1 1 0"
      ;;
    14)
      test-tcas  "374 0 388 577 156 9685 2 930 670 0 0 1"
      ;;
    15)
      test-tcas  "876 1 454 505 192 4782 0 417 311 0 1 1"
      ;;
    16)
      test-tcas  "224 1 153 672 50 1984 2 908 201 0 0 1"
      ;;
    17)
      test-tcas  "477 0 492 184 913 8746 2 808 618 0 0 0"
      ;;
    18)
      test-tcas  "338 0 265 890 231 1675 2 948 152 1 0 0"
      ;;
    19)
      test-tcas  "789 1 640 297 156 2729 0 246 246 1 0 0"
      ;;
    20)
      test-tcas  "171 0 721 485 731 909 3 293 134 0 1 0"
      ;;
esac
