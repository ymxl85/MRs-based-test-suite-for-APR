#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "466 0 997 760 769 6893 0 104 349 0 0 0"
      ;;
    2)
      test-tcas  "55 1 704 701 726 6353 1 481 562 0 0 0"
      ;;
    3)
      test-tcas  "104 1 355 262 667 2162 2 341 896 1 0 0"
      ;;
    4)
      test-tcas  "204 0 573 613 280 7330 0 302 502 1 0 0"
      ;;
    5)
      test-tcas  "35 1 788 85 668 4382 2 291 918 1 1 0"
      ;;
    6)
      test-tcas  "749 1 652 504 345 4960 3 915 693 0 1 0"
      ;;
    7)
      test-tcas  "427 1 401 168 272 3664 0 946 631 1 1 1"
      ;;
    8)
      test-tcas  "374 0 58 51 613 2983 2 211 325 1 1 0"
      ;;
    9)
      test-tcas  "6 0 875 878 144 1029 2 238 194 0 1 1"
      ;;
    10)
      test-tcas  "911 0 240 967 359 4740 3 316 628 1 1 1"
      ;;
    11)
      test-tcas  "337 0 500 962 265 7930 3 881 70 0 1 1"
      ;;
    12)
      test-tcas  "875 1 634 30 683 6404 3 597 960 1 0 1"
      ;;
    13)
      test-tcas  "481 0 638 508 474 952 3 995 387 1 0 0"
      ;;
    14)
      test-tcas  "151 0 652 616 624 3724 1 132 42 1 1 1"
      ;;
    15)
      test-tcas  "657 0 468 470 443 3993 3 436 698 1 1 1"
      ;;
    16)
      test-tcas  "601 0 940 413 296 5843 1 690 889 0 1 0"
      ;;
    17)
      test-tcas  "804 1 64 543 322 2729 3 990 753 0 1 1"
      ;;
esac
