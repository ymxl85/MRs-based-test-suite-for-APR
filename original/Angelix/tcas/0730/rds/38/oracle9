#!/bin/bash
set -euo pipefail
SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
test-tcas () {
    diff -q <(${ANGELIX_RUN:-eval} ./tcas $1) <($SCRIPT_DIR/../golden/tcas $1) > /dev/null
}

case "$1" in
    1)
      test-tcas  "199 0 167 862 703 9964 3 599 920 0 1 0"
      ;;
    2)
      test-tcas  "262 1 751 529 665 48 0 627 102 0 1 1"
      ;;
    3)
      test-tcas  "788 1 79 311 193 7229 3 779 734 0 1 1"
      ;;
    4)
      test-tcas  "421 0 333 229 766 8647 2 831 18 0 0 1"
      ;;
    5)
      test-tcas  "134 1 136 316 920 2527 2 467 496 0 0 1"
      ;;
    6)
      test-tcas  "522 1 547 38 686 9377 2 339 541 0 0 0"
      ;;
    7)
      test-tcas  "153 1 116 427 930 8521 3 7 661 0 1 0"
      ;;
    8)
      test-tcas  "67 1 423 474 74 850 0 655 661 0 1 0"
      ;;
    9)
      test-tcas  "313 0 559 816 91 9999 2 438 815 1 0 1"
      ;;
    10)
      test-tcas  "132 1 382 598 79 2616 3 501 279 0 0 0"
      ;;
    11)
      test-tcas  "127 1 384 308 113 4077 0 97 966 1 0 0"
      ;;
    12)
      test-tcas  "439 1 312 648 373 8865 2 858 128 0 0 1"
      ;;
    13)
      test-tcas  "608 1 608 885 887 4870 3 88 853 0 1 0"
      ;;
    14)
      test-tcas  "410 1 13 821 497 8116 0 15 613 1 1 0"
      ;;
    15)
      test-tcas  "566 1 501 325 912 8829 0 204 897 0 1 0"
      ;;
    16)
      test-tcas  "755 0 959 515 894 1383 3 809 859 1 0 0"
      ;;
    17)
      test-tcas  "924 0 764 933 863 9465 2 88 715 0 0 0"
      ;;
esac
