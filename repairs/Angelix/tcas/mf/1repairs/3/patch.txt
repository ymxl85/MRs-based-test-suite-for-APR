--- a/tcas.c
+++ b/tcas.c
@@ -241,7 +241,7 @@
 #line 93
   tmp = Inhibit_Biased_Climb();
 #line 93
-  upward_preferred = tmp > Down_Separation;
+  upward_preferred = (Two_of_Three_Reports_Valid <= Other_RAC);
 #line 94
   if (upward_preferred) {
 #line 96
