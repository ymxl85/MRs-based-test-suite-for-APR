--- a/tcas.c
+++ b/tcas.c
@@ -444,7 +444,7 @@
 #line 131
       if (need_upward_RA) {
 #line 131
-        if (need_downward_RA) {
+        if (((671 <= Own_Tracked_Alt_Rate) || (Cur_Vertical_Sep < 671))) {
 #line 135
           alt_sep = 0;
         } else {
